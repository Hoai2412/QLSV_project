<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Trang chủ Giảng viên | Dashboard</title>

  <!-- Font & Icons -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" />
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Roboto:wght@400;500;700&display=swap" rel="stylesheet">
   
  <!-- CSS Layout (Giữ lại link cũ nếu cần, nhưng style dưới đây sẽ override để đẹp hơn) -->
  <!-- <link rel="stylesheet" href="../../css/main.css"> -->

  <style>
    /* --- LECTURER THEME SYSTEM --- */
    :root {
        --lec-primary: #1e3a8a;       /* Xanh Navy đậm */
        --lec-primary-light: #3b82f6; /* Xanh Dương sáng */
        --lec-sidebar-bg: #0f172a;    /* Nền Sidebar tối */
        --lec-text-main: #1e293b;     /* Chữ chính */
        --lec-text-sub: #64748b;      /* Chữ phụ */
        --lec-bg: #f1f5f9;            /* Nền App */
        --lec-border: #cbd5e1;        /* Viền */
        --white: #ffffff;
    }

    /* --- RESET & BASE --- */
    * { box-sizing: border-box; }
    body {
        margin: 0;
        font-family: 'Inter', sans-serif;
        background-color: var(--lec-bg);
        color: var(--lec-text-main);
        font-size: 14px;
        line-height: 1.5;
        height: 100vh;
        overflow: hidden;
    }

    /* --- LAYOUT --- */
    .app-container { display: flex; height: 100vh; }

    /* --- SIDEBAR --- */
    .sidebar {
        width: 260px;
        background-color: var(--lec-sidebar-bg);
        color: #94a3b8;
        display: flex;
        flex-direction: column;
        flex-shrink: 0;
    }

    .brand {
        height: 64px;
        display: flex;
        align-items: center;
        padding: 0 20px;
        color: #fff;
        font-weight: 700;
        font-size: 1rem;
        border-bottom: 1px solid rgba(255,255,255,0.1);
        text-transform: uppercase;
        letter-spacing: 0.5px;
    }
    .brand i { margin-right: 10px; color: #f59e0b; font-size: 1.2rem; }

    .sidebar-menu {
        list-style: none;
        padding: 20px 0;
        margin: 0;
        flex: 1;
        overflow-y: auto;
    }

    .sidebar-menu li a {
        display: flex;
        align-items: center;
        padding: 12px 24px;
        color: #94a3b8;
        text-decoration: none;
        transition: 0.2s;
        border-left: 3px solid transparent;
        font-weight: 500;
    }

    .sidebar-menu li a:hover {
        background-color: rgba(255,255,255,0.05);
        color: #e2e8f0;
    }

    .sidebar-menu li a.active {
        background-color: #1e293b;
        color: #fff;
        border-left-color: var(--lec-primary-light);
    }
    .sidebar-menu li a i { width: 24px; margin-right: 10px; text-align: center; }

    /* --- BODY WRAPPER --- */
    .body-wrapper {
        flex: 1;
        display: flex;
        flex-direction: column;
        overflow: hidden;
    }

    /* --- HEADER --- */
    .main-header {
        height: 64px;
        background: var(--white);
        border-bottom: 1px solid var(--lec-border);
        display: flex;
        align-items: center;
        justify-content: space-between; /* Đẩy user info sang phải */
        padding: 0 24px;
        box-shadow: 0 1px 2px rgba(0,0,0,0.05);
    }

    /* Ẩn brand trong header vì đã có ở sidebar, hoặc hiển thị title trang */
    .main-header .brand { display: none; } 
    .header-title { font-size: 1.1rem; font-weight: 700; color: var(--lec-text-main); }

    .user-info {
        display: flex;
        align-items: center;
        gap: 15px;
        font-weight: 500;
        color: var(--lec-text-main);
    }
    .user-info span { font-weight: 700; color: var(--lec-primary); }

    .btn-logout {
        padding: 6px 12px;
        border: 1px solid #fee2e2;
        background: #fff;
        color: #ef4444;
        border-radius: 4px;
        cursor: pointer;
        font-size: 0.85rem;
        transition: 0.2s;
    }
    .btn-logout:hover { background: #fee2e2; }

    /* --- MAIN CONTENT --- */
    .main-content {
        flex: 1;
        overflow-y: auto;
        padding: 24px;
        background-color: #f8fafc;
    }

    .page-title {
        font-size: 1.25rem;
        font-weight: 700;
        color: var(--lec-primary);
        margin-bottom: 20px;
        padding-bottom: 10px;
        border-bottom: 2px solid #e2e8f0;
        display: inline-block;
    }

    /* --- CARD STYLES --- */
    .grid-layout {
        display: grid;
        grid-template-columns: 350px 1fr;
        gap: 24px;
    }

    .info-card {
        background: var(--white);
        border-radius: 8px;
        box-shadow: 0 4px 6px -1px rgba(0,0,0,0.1);
        border: 1px solid var(--lec-border);
        overflow: hidden;
    }
    
    /* Style riêng cho Card Thông tin Giảng viên */
    .profile-card {
        padding: 0;
    }
    .profile-header {
        background: linear-gradient(135deg, var(--lec-primary), #1e40af);
        padding: 30px 20px;
        text-align: center;
        color: white;
    }
    .avatar-placeholder {
        width: 80px; height: 80px;
        background: rgba(255,255,255,0.2);
        border-radius: 50%;
        margin: 0 auto 10px;
        display: grid;
        place-items: center;
        font-size: 2rem;
        border: 2px solid rgba(255,255,255,0.5);
    }
    .profile-body { padding: 20px; }
    .profile-item {
        display: flex;
        justify-content: space-between;
        padding: 10px 0;
        border-bottom: 1px solid #f1f5f9;
        font-size: 0.95rem;
    }
    .profile-item:last-child { border-bottom: none; }
    .profile-item strong { color: var(--lec-text-sub); font-weight: 500; }
    .profile-item span { color: var(--lec-text-main); font-weight: 600; text-align: right; }

    /* Style cho Card Thống kê */
    .stats-container {
        display: grid;
        grid-template-columns: repeat(3, 1fr);
        gap: 20px;
        margin-bottom: 30px;
    }
    .stat-box {
        background: white;
        padding: 20px;
        border-radius: 8px;
        border: 1px solid var(--lec-border);
        box-shadow: 0 2px 4px rgba(0,0,0,0.05);
        display: flex;
        align-items: center;
        gap: 15px;
    }
    .stat-icon {
        width: 50px; height: 50px;
        border-radius: 10px;
        display: grid;
        place-items: center;
        font-size: 1.5rem;
        flex-shrink: 0;
    }
    .stat-content h4 { margin: 0; font-size: 2rem; font-weight: 700; color: var(--lec-primary); }
    .stat-content p { margin: 0; font-size: 0.85rem; color: var(--lec-text-sub); font-weight: 600; }

    /* Style cho Bảng Lịch dạy */
    .table-container {
        background: white;
        border-radius: 8px;
        border: 1px solid var(--lec-border);
        overflow: hidden;
        box-shadow: 0 2px 4px rgba(0,0,0,0.05);
    }
    .data-table {
        width: 100%;
        border-collapse: collapse;
    }
    .data-table thead th {
        background: #f8fafc;
        color: var(--lec-text-sub);
        font-weight: 600;
        text-transform: uppercase;
        font-size: 0.8rem;
        padding: 12px 16px;
        text-align: left;
        border-bottom: 2px solid #e2e8f0;
    }
    .data-table tbody td {
        padding: 12px 16px;
        border-bottom: 1px solid #f1f5f9;
        color: var(--lec-text-main);
    }
    .data-table tbody tr:hover { background-color: #f1f5f9; }

    /* Responsive */
    @media (max-width: 1024px) {
        .grid-layout { grid-template-columns: 1fr; }
        .stats-container { grid-template-columns: 1fr; }
    }
  </style>
</head>

<body>
<div class="app-container">

    <!-- SIDEBAR -->
    <nav class="sidebar">
        <div class="brand"><i class="fas fa-chalkboard-teacher"></i> GIẢNG VIÊN</div>
        <ul class="sidebar-menu">
            <li><a href="/giangvien" class="active"><i class="fas fa-home"></i> Trang chủ</a></li>
            <li><a href="/giangvien/lophocphan"><i class="fas fa-layer-group"></i> Lớp học phần</a></li>
            <li><a href="/giangvien/lichday"><i class="fas fa-calendar-alt"></i> Lịch giảng dạy</a></li>
             <li><a href="/giangvien/lichthi"><i class="fas fa-calendar-alt"></i> Lịch thi</a></li>
        </ul>
    </nav>

    <div class="body-wrapper">

        <!-- HEADER -->
        <header class="main-header">
            <div class="header-title">Hệ thống Quản lý Giảng dạy</div>
            <div class="user-info">
                <div style="text-align: right; line-height: 1.2;">
                    <div style="font-size: 0.8rem; color: #64748b;">Xin chào</div>
                    <span id="header-gv-name" style="font-size: 1rem;">Giảng viên</span>
                </div>
                <div style="width: 36px; height: 36px; background: #e0e7ff; color: #1e3a8a; border-radius: 50%; display: grid; place-items: center; font-weight: bold;">GV</div>
                <button class="btn-logout"><i class="fa-solid fa-arrow-right-from-bracket"></i></button>
            </div>
        </header>

        <!-- MAIN CONTENT -->
        <main class="main-content">

            <div class="grid-layout">
                
                <!-- CỘT TRÁI: THÔNG TIN GIẢNG VIÊN -->
                <div>
                    <!-- Card Profile đã được style lại đẹp hơn nhưng vẫn giữ nguyên ID -->
                    <div class="info-card profile-card">
                        <div class="profile-header">
                            <div class="avatar-placeholder"><i class="fas fa-user-tie"></i></div>
                            <!-- ID: gv-hoten -->
                            <h3 id="gv-hoten" style="margin: 0; font-size: 1.1rem;">Đang tải...</h3>
                            <!-- ID: gv-magv -->
                            <div style="font-size: 0.9rem; opacity: 0.8; margin-top: 4px;">MSGV: <span id="gv-magv">...</span></div>
                        </div>
                        <div class="profile-body">
                            <div class="profile-item">
                                <strong>Học vị</strong>
                                <span id="gv-hocvi">Đang tải...</span>
                            </div>
                            <div class="profile-item">
                                <strong>Bộ môn</strong>
                                <span id="gv-bomon">Đang tải...</span>
                            </div>
                            <div class="profile-item">
                                <strong>Email</strong>
                                <span id="gv-email" style="color: var(--lec-primary-light);">Đang tải...</span>
                            </div>
                            <div class="profile-item">
                                <strong>Điện thoại</strong>
                                <span id="gv-sodt">Đang tải...</span>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- CỘT PHẢI: THỐNG KÊ & LỊCH -->
                <div>
                    <h2 class="page-title" style="margin-top: 0; border: none;">Tổng quan</h2>
                    
                    <!-- Card Thống kê: Chuyển text thành dạng thẻ bài (Widget) -->
                    <div class="stats-container">
                        <div class="stat-box">
                            <div class="stat-icon" style="background: #e0e7ff; color: #1e3a8a;">
                                <i class="fas fa-chalkboard"></i>
                            </div>
                            <div class="stat-content">
                                <!-- ID: stat-lophp -->
                                <h4 id="stat-lophp">0</h4>
                                <p>Lớp học phần</p>
                            </div>
                        </div>

                        <div class="stat-box">
                            <div class="stat-icon" style="background: #dcfce7; color: #166534;">
                                <i class="fas fa-user-graduate"></i>
                            </div>
                            <div class="stat-content">
                                <!-- ID: stat-sv -->
                                <h4 id="stat-sv">0</h4>
                                <p>Tổng sinh viên</p>
                            </div>
                        </div>

                        <div class="stat-box">
                            <div class="stat-icon" style="background: #fee2e2; color: #991b1b;">
                                <i class="fas fa-marker"></i>
                            </div>
                            <div class="stat-content">
                                <!-- ID: stat-nhapdiem -->
                                <h4 id="stat-nhapdiem">0</h4>
                                <p>Lớp cần nhập điểm</p>
                            </div>
                        </div>
                    </div>

                    <h2 class="page-title">Lịch dạy hôm nay</h2>
                    
                    <!-- Bảng Lịch dạy -->
                    <div class="table-container">
                        <table class="data-table">
                            <thead>
                                <tr>
                                    <th>Thời gian</th>
                                    <th>Mã lớp</th>
                                    <th>Môn học</th>
                                    <th>Phòng</th>
                                    <th>Học kỳ</th>
                                </tr>
                            </thead>
                            <!-- ID: gv-lichday-today (Giữ nguyên để JS append row vào đây) -->
                            <tbody id="gv-lichday-today">
                                <tr>
                                    <td colspan="5" style="text-align:center; padding: 20px; color: #64748b;">
                                        <i class="fas fa-spinner fa-spin"></i> Đang tải dữ liệu lịch dạy...
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>

                </div>
            </div>

        </main>
    </div>
</div>

<!-- Script Gốc của bạn (Giữ nguyên để đảm bảo logic không đổi) -->
<script src="../../js/gv.js"></script>

</body>
</html>